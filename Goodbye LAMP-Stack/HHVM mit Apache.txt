Auch wenn der Hauptartikel sich mit der Einbindung in NGINX beschäftigt ist die Verwendung von HHVM mit Apache natürlich ebenfalls möglich. Um eine annähernd ähnliche Flexibilität in der Anbindung zu erhalten, müssen die Module mod_proxy und mod_proxy_fcgi aktiviert werden.Analog zu den Location-Containern im NGINX kann als dann auch im Apache mittels der ProxyPassMatch-Anweisung die Weiterleitung an HHVM erfolgen. Eine mögliche Konfiguration, die sämtliche Requests mit .php am Ende an den externen FastCGI-Prozess weiterleitet könnte zum Beispiel so aussehen:
ProxyPassMatch ^/(.*\.php(/.*)?)$ fcgi://127.0.0.1:9000/pfad/$1 Wer noch mit Apache 2.2 unterwegs ist, hat leider etwas mehr Arbeit – und deutlich weniger Flexibilität – denn das Modul mod_proxy_fcgi existiert erst ab Version 2.4. Nach der Aktivierung des Modules mod_fastcgi steht die Anbindung externer Prozesse via FastCGI zur Verfügung und man kann über den gewohnten Mechanismus AddHandler und AddAction die Ausführung an PHP-FPM oder HHVM delegieren. Eine beispielhafte, grundlegende Konfiguration könnte so aussehen:<IfModule mod_fastcgi.c>Alias /hhvm /pfad/zum/hhvm.fastcgiFastCGIExternalServer /pfad/zum/hhvm.fastcgi -socket /var/run/hhvm/sock -pass-header Authorization -idle-timeout 300AddHandler hhvm-hack-extension .hhAddHandler hhvm-php-extension .phpAction hhvm-hack-extension /hhvm virtualAction hhvm-php-extension /hhvm virtual</IfModule>